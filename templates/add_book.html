{%extends 'base.html'%}

{%block title%}Add book{%endblock%}

{%block style%}
<link rel="stylesheet" href="{{url_for('static', filename='add_book.css')}}">
{%endblock%}

{%set show_nav_bar = True%}

{%block content%}
    <div id = "button-show-container">
        <button id = 'page-by-page-button'>page by page</button>
        <button id = 'all-at-once-button'>all at once</button>
    </div>

    <div id = "page-by-page" style="display: none;">
        <section class="form-section">
            <!-- <form action="/add_book" method="POST"> -->
            <form id = "form1">
                <label for="title">Book Title</label>
                <input type="text" id="title" name="title" required>

                <label for="author">Author</label>
                <input type="text" id="author" name="author" required>

                <label for="genre">Genre</label>
                <select id="genre" name="genre">
                    <option value="fiction">Fiction</option>
                    <option value="non-fiction">Non-Fiction</option>
                    <option value="fantasy">Fantasy</option>
                    <option value="mystery">Mystery</option>
                    <option value="science fiction">Science Fiction</option>
                    <option value="romance">Romance</option>
                </select>

                <label for="year">Publication Year</label>
                <input type="number" id="year" name="year" required>

                <label for="description">Description</label>
                <!-- text-area = mutli line, rows = how many lines to show, placeholder = what shows up before the user types anything -->
                <textarea id="description" name="description" rows="4" placeholder="Enter a brief description."></textarea>

                <button type="button" id = "next_button1">Next</button>
            </form>
        </section>

        <!-- section for after the next button is clicked -->

        <section class="form-section" style="display: none;" id = "form-display">
            <form id="form2" style="display: none;"> 
                <label for="numPages">Book Title</label>
                <input type="number" id="numPages" name="numPages" required>
                <button type="button" id = "setPagesButton">Set Pages</button>

                <div id = "pageInputs"></div>
                <button type="button" id = "nextPageButton" style="display: none;">Next Page</button>
            </form>
        </section>
    </div>








<div id='all-at-once' style="display: none;">
    <section class="form-section">
        <form id="addBookForm" action="/add_books" method="POST">
            <div id='all-at-once-first-form'>
                <label for="title">Book Title</label>
                <input type="text" id="title" name="title" required>
                <span class="error-message" style="display: none; color: red;">Please fill out this field.</span>


                <label for="author">Author</label>
                <input type="text" id="author" name="author" required>
                <span class="error-message" style="display: none; color: red;">Please fill out this field.</span>


                <label for="genre">Genre</label>
                <select id="genre" name="genre" required>
                    <option value="" disabled selected>Select a genre</option>
                    <option value="fiction">Fiction</option>
                    <option value="non-fiction">Non-Fiction</option>
                    <option value="fantasy">Fantasy</option>
                    <option value="mystery">Mystery</option>
                    <option value="science fiction">Science Fiction</option>
                    <option value="romance">Romance</option>
                </select>
                <span class="error-message" style="display: none; color: red;">Please fill out this field.</span>


                <label for="year">Publication Year</label>
                <input type="number" id="year" name="year" required>
                <span class="error-message" style="display: none; color: red;">Please fill out this field.</span>


                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" placeholder="Enter a brief description."></textarea>

                <button type="button" id="next_button2">Next</button>
            </div>
            
            <div id='all-at-once-content' style="display: none;">
                <label for="content">Content</label>
                <textarea name="content" id="content" rows="16" placeholder="Enter the book contents here" required></textarea>
                <span class="error-message" style="display: none; color: red;">Please fill out this field.</span>

                <button type="submit">Submit</button> 
            </div>
        </form>
    </section>
</div>
{%endblock%}

<!-- add javascript at the end -->
{%block javascript%}
    <script src = "{{url_for('static', filename='add_book.js')}}"></script>
{%endblock%}